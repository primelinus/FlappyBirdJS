webpackJsonp([0],[,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Menus:{MAIN:0,COLOR_SELECT:1},States:{BOOT:"BootState",LOADING:"LoadingState",MENU:"MenuState",PLAY:"PlayState"}}},,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=n(30),f=o(c),h=function(e){function t(e,n,o,a){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.distance=a,s.numTrees=Math.ceil(s.game.world.width/(90+a))+1;for(var u=0;u<s.numTrees;u++){new f.default(s.game,s,u,n,o).restart(s.game.world.width+u*s.distance)}return s.firstTree=s.getAt(0),s.lastTree=s.getAt(s.length-1),s.currentTree=s.firstTree,s}return a(t,e),s(t,[{key:"checkVisibilty",value:function(){this.firstTree.getWorldX()<-this.firstTree.width&&(this.firstTree.restart(this.lastTree.getWorldX()+this.distance),this.firstTree=this._getNextTree(this.firstTree.index),this.lastTree=this._getNextTree(this.lastTree.index))}},{key:"_getNextTree",value:function(e){return this.getAt((e+1)%this.length)}},{key:"start",value:function(){for(var e=0;e<this.numTrees;e++)this.getAt(e).start()}},{key:"stop",value:function(){for(var e=0;e<this.numTrees;e++)this.getAt(e).stop()}},{key:"isColliding",value:function(e){return this.game.physics.arcade.collide(e,this.currentTree)}},{key:"activateNextTree",value:function(){this.currentTree=this._getNextTree(this.currentTree.index)}},{key:"hasPassed",value:function(e){return e.x>this.currentTree.getGapX()}}]),t}(l.default.Group);t.default=h},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,e.height-50,e.width,50,"img_ground"));return r.speed=n,r}return r(t,e),a(t,[{key:"start",value:function(){this.autoScroll(this.speed,0)}},{key:"stop",value:function(){this.autoScroll(0,0)}}]),t}(u.default.TileSprite);t.default=l},function(e,t,n){e.exports=n(9)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(3),n(4);var u=n(0),l=o(u),c=n(1),f=o(c),h=n(14),d=o(h),g=n(15),p=o(g),m=n(16),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),y=function(e){function t(){i(this,t);var e=new p.default,n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.get("game")));n.config=e,n.save=new d.default(n),n.orientated=!0;for(var o in f.default.States){var a=f.default.States[o];n.state.add(a,b[a])}return n.state.start(n.config.get("defaultState")),n}return a(t,e),s(t,[{key:"onEnterIncorrectOrientation",value:function(){this.orientated=!1,document.getElementById("orientation").style.display="block"}},{key:"onLeaveIncorrectOrientation",value:function(){this.orientated=!1,document.getElementById("orientation").style.display="none"}}]),t}(l.default.Game);window.Game=y},,,,,function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t){o(this,e),this.game=t,this._data={version:"vA-1.0.0",highscore:0,selectedColor:0},this._load()}return i(e,[{key:"_load",value:function(){var e=localStorage.getItem(this.game.config.get("game.name"));if(!e)return this._save();var t=JSON.parse(e);return t&&t.version&&t.version==this._data.version?(this._data=t,void(this._data.selectedColor>=this.game.config.get("availableColors")&&(this._data.selectedColor=0))):this._save()}},{key:"_save",value:function(){localStorage.setItem(this.game.config.get("game.name"),JSON.stringify(this._data))}},{key:"get",value:function(e,t){return this._data.hasOwnProperty(e)?this._data[e]:t}},{key:"set",value:function(e,t){this._data[e]=t,this._save()}}]),e}();t.default=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),s=o(a),u=n(1),l=o(u),c=function(){function e(){i(this,e),this._data={game:{baseWidth:320,baseHeight:568,maxWidth:768,width:"100%",height:"100%",enableDebug:!1,backgroundColor:"#FFFFFF",renderer:s.default.CANVAS,name:"FlappyBirdJS"},fontSize:{title:42,menu:28,menuHighlight:34,score:64},defaultState:l.default.States.BOOT,availableColors:1,scoreGain:10,physics:{gravity:1300,flapForce:-400},trees:{gap:150,speed:-200,distance:300}}}return r(e,[{key:"get",value:function(e,t){for(var n=e.split("."),o=this._data;n.length>0;){var i=n.shift();if(!o.hasOwnProperty(i))return t;o=o[i]}return o}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(28);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var r=n(29);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var a=n(33);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BootState=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u);n(5);var c=n(20),f=o(c),h=n(1),d=o(h);t.BootState=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"preload",value:function(){this.game.load.image("loading","assets/images/loading.png")}},{key:"create",value:function(){this.scale.scaleMode=l.default.ScaleManager.USER_SCALE,this.scale.pageAlignVertically=!0,this.scale.pageAlignHorizontally=!0;var e=this.game.height,t=this.game.width,n=this.game.config.get("game.baseHeight"),o=this.game.config.get("game.baseWidth"),i=e/n,r=Math.ceil((t-o*i)/i);this.scale.setGameSize(Math.min(o+r,this.game.config.get("game.maxWidth")),n),this.scale.setUserScale(i,i,0,0,!1,!1),this.game.stage.backgroundColor="#000000",this.game.physics.startSystem(l.default.Physics.ARCADE),this.game.physics.arcade.gravity.y=this.game.config.get("physics.gravity"),this.game.stage.disableVisibilityChange=!0,this.game.plugins.add(PhaserI18n.Plugin,{fallbackLng:"en",backend:{loadPath:"assets/locales/{{lng}}.json"},load:"languageOnly",debug:!1,detection:{order:["navigator"]}},f.default),this.game.device.desktop||(this.game.scale.forceOrientation(!1,!0),this.game.scale.enterIncorrectOrientation.add(this.game.onEnterIncorrectOrientation,this.game),this.game.scale.leaveIncorrectOrientation.add(this.game.onLeaveIncorrectOrientation,this.game)),this.game.state.start(d.default.States.LOADING)}}]),t}(l.default.State)},,,function(e,t,n){e.exports=n(21).default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(22),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),l=n(23),c=o(l),f=n(24),h=o(f),d=n(25),g=o(d),p=n(26),m=o(p),b=n(27),y=o(b),v=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return a(e,[{key:"init",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this.services=e,this.options=u.defaults(t,this.options||{},r()),this.i18nOptions=n,this.addDetector(c.default),this.addDetector(h.default),this.addDetector(g.default),this.addDetector(m.default),this.addDetector(y.default)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];e.forEach(function(e){if(t.detectors[e]){var o=t.detectors[e].lookup(t.options);o&&"string"==typeof o&&(o=[o]),o&&(n=n.concat(o))}});var o=void 0;return n.forEach(function(e){if(!o){var n=t.services.languageUtils.formatLanguageCode(e);t.services.languageUtils.isWhitelisted(n)&&(o=n)}}),o||this.i18nOptions.fallbackLng[0]}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)}))}}]),e}();v.type="languageDetector",t.default=v},function(e,t,n){"use strict";function o(e){return a.call(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e}function i(e){return a.call(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=o,t.extend=i;var r=[],a=r.forEach,s=r.slice},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={create:function(e,t,n,o){var i=void 0;if(n){var r=new Date;r.setTime(r.getTime()+60*n*1e3),i="; expires="+r.toGMTString()}else i="";o=o?"domain="+o+";":"",document.cookie=e+"="+t+i+";"+o+"path=/"},read:function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}};t.default={name:"cookie",lookup:function(e){var t=void 0;if(e.lookupCookie&&"undefined"!=typeof document){var n=o.read(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&o.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"querystring",lookup:function(e){var t=void 0;if("undefined"!=typeof window)for(var n=window.location.search.substring(1),o=n.split("&"),i=0;i<o.length;i++){var r=o[i].indexOf("=");if(r>0){var a=o[i].substring(0,r);a===e.lookupQuerystring&&(t=o[i].substring(r+1))}}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=void 0;try{o="undefined"!==window&&null!==window.localStorage;window.localStorage.setItem("i18next.translate.boo","foo"),window.localStorage.removeItem("i18next.translate.boo")}catch(e){o=!1}t.default={name:"localStorage",lookup:function(e){var t=void 0;if(e.lookupLocalStorage&&o){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&o&&window.localStorage.setItem(t.lookupLocalStorage,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"htmlTag",lookup:function(e){var t=void 0,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingState=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=n(1),f=o(c);t.LoadingState=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"preload",value:function(){var e=this.add.sprite(this.world.centerX,this.world.centerY,"loading");e.anchor.setTo(.5,.5),this.load.setPreloadSprite(e),this.game.load.spritesheet("img_bird","assets/images/img_bird.png",36,36,20),this.game.load.spritesheet("img_tree","assets/images/img_tree.png",90,400,2),this.game.load.image("img_ground","assets/images/img_ground.png"),this.load.bitmapFont("fnt_flappy","assets/fonts/fnt_flappy.png","assets/fonts/fnt_flappy.fnt"),this.load.locale(["en","de"],["translation"])}},{key:"create",value:function(){this.game.stage.backgroundColor=this.game.config.get("game.backgroundColor"),this.game.state.start(f.default.States.MENU)}}]),t}(l.default.State)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MenuState=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=n(1),f=o(c),h=n(6),d=o(h),g=n(7),p=o(g),m=n(31),b=o(m),y=n(32),v=o(y);t.MenuState=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.menus=[],e}return a(t,e),s(t,[{key:"create",value:function(){var e=this.game.world.centerX,t=this.game.config;this.trees=new d.default(this.game,t.get("trees.gap"),t.get("trees.speed"),t.get("trees.distance")),this.trees.start(),this.game.add.existing(this.trees),this.ground=new p.default(this.game,t.get("trees.speed")),this.ground.start(),this.game.add.existing(this.ground),this.title=this.game.add.translatedBitmapText(e,96,"fnt_flappy","title",t.get("fontSize.title")),this.title.anchor.setTo(.5),this.highscore=this.game.add.translatedBitmapText(e,150,"fnt_flappy","highscore",t.get("fontSize.menu"),"left",{score:this.game.save.get("highscore")}),this.highscore.anchor.setTo(.5),this.menus[f.default.Menus.MAIN]=new b.default(this.game,this),this.menus[f.default.Menus.MAIN].draw(),this.game.add.existing(this.menus[f.default.Menus.MAIN]),this.menus[f.default.Menus.COLOR_SELECT]=new v.default(this.game,this),this.menus[f.default.Menus.COLOR_SELECT].draw(),this.game.add.existing(this.menus[f.default.Menus.COLOR_SELECT]),this.changeMenu(f.default.Menus.MAIN)}},{key:"update",value:function(){this.trees.checkVisibilty(),this.menus[this.curMenu].handle()}},{key:"changeMenu",value:function(e){if(!(e>=this.menus.length||e<0)){for(var t=0;t<this.menus.length;t++)this.menus[t].visible=!1;this.menus[e].visible=!0,this.curMenu=e}}}]),t}(l.default.State)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e,n,r,a,s){o(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return l.index=r,l.speed=s,l.topTree=new u.default.Sprite(l.game,0,0,"img_tree",0),l.topTree.scale.setTo(.75),l.bottomTree=new u.default.Sprite(l.game,0,0,"img_tree",1),l.bottomTree.scale.setTo(.75),l.game.physics.arcade.enableBody(l.topTree),l.game.physics.arcade.enableBody(l.bottomTree),l.topTree.body.allowGravity=!1,l.topTree.body.immovable=!0,l.bottomTree.body.allowGravity=!1,l.bottomTree.body.immovable=!0,l.add(l.topTree),l.add(l.bottomTree),l.gap=Math.min(l.game.world.height-320,a),l.topMin=110-l.topTree.height,l.topMax=l.game.world.height-l.topTree.height-l.gap-160,l.running=!1,l}return r(t,e),a(t,[{key:"restart",value:function(e){this.topTree.reset(0,0),this.bottomTree.reset(0,this.topTree.height+this.gap),this.x=e,this.y=this.game.rnd.integerInRange(this.topMin,this.topMax),this.running&&this.setAll("body.velocity.x",this.speed)}},{key:"getWorldX",value:function(){return this.topTree.world.x}},{key:"start",value:function(){this.setAll("body.velocity.x",this.speed),this.running=!0}},{key:"stop",value:function(){this.setAll("body.velocity.x",0),this.running=!1}},{key:"getGapX",value:function(){return this.bottomTree.world.x+this.bottomTree.width}}]),t}(u.default.Group);t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=n(1),f=o(c),h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state=n,o.visible=!1,o.curSel=0,o.curColor=o.game.save.get("selectedColor"),o.items=[{text:"start",action:function(){this.game.state.start(f.default.States.PLAY)}}],o.game.config.get("availableColors",1)>1&&o.items.push({text:"colorSelect",action:function(){this.state.changeMenu(f.default.Menus.COLOR_SELECT)}}),o.fontSize=o.game.config.get("fontSize.menu"),o.fontSizeHighlight=o.game.config.get("fontSize.menuHighlight"),o.selectorSpace=16,o}return a(t,e),s(t,[{key:"draw",value:function(){for(var e=this,t=(this.fontSize+28)*this.items.length-28,n=this.game.world.centerY-t/2,o=0;o<this.items.length;o++)!function(t){var o=Math.floor(n+(e.fontSize+28)*t),i=t==e.curSel&&!l.default.Device.touch;e.items[t].obj=e.game.add.translatedBitmapText(e.game.world.centerX,o,"fnt_flappy",e.items[t].text,i?e.fontSizeHighlight:e.fontSize,null,null,e),e.items[t].obj.anchor.setTo(.5,0),e.items[t].obj.inputEnabled=!0,l.default.Device.touch&&e.items[t].obj.events.onInputDown.add(function(){this.items[t].action.call(this)},e),e.items[t].y=o}(o);var i=Math.floor(this.items[this.curSel].obj.centerX-this.items[this.curSel].obj.width/2-this.selectorSpace);this.selector=this.game.add.sprite(i,this.items[this.curSel].y,"img_bird",1,this),this.selector.animations.add("flap",[2*this.curColor,2*this.curColor+1]),this.selector.animations.play("flap",8,!0),this.selector.anchor.setTo(1,-.5),this.selector.scale.setTo(.5),this.selector.visible=!l.default.Device.touch,l.default.Device.touch&&(this.selectedColor=this.game.add.sprite(this.game.world.centerX,this.game.world.height-200,"img_bird",1,this),this.selectedColor.animations.add("flap",[2*this.curColor,2*this.curColor+1]),this.selectedColor.animations.play("flap",8,!0),this.selectedColor.anchor.set(.5))}},{key:"handle",value:function(){var e=(this.curSel,this.game.input.keyboard.createCursorKeys()),t=this.game.input.keyboard.addKey(l.default.KeyCode.SPACEBAR);this.curColor!=this.game.save.get("selectedColor")&&(this.curColor=this.game.save.get("selectedColor"),this.selector.animations.add("flap",[2*this.curColor,2*this.curColor+1]),this.selector.animations.play("flap",8,!0),this.selectedColor&&(this.selectedColor.animations.add("flap",[2*this.curColor,2*this.curColor+1]),this.selectedColor.animations.play("flap",8,!0))),e.down.justPressed()?this._setSelected(Math.min(this.items.length-1,this.curSel+1)):e.up.justPressed()?this._setSelected(Math.max(0,this.curSel-1)):t.justPressed()&&this.items[this.curSel].action.call(this)}},{key:"_setSelected",value:function(e){var t=this.curSel;if(this.curSel=e,t!=this.curSel){var n=!l.default.Device.touch;this.items[t].obj.fontSize=this.fontSize,this.items[this.curSel].obj.fontSize=n?this.fontSizeHighlight:this.fontSize;var o=Math.floor(this.items[this.curSel].obj.centerX-this.items[this.curSel].obj.width/2-this.selectorSpace);this.selector.x=o,this.selector.y=this.items[this.curSel].y}}}]),t}(l.default.Group);t.default=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=n(1),f=o(c),h=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.state=n,o.visible=!1,o.curSel=o.game.save.get("selectedColor"),o.items=[];for(var a=0;a<o.game.config.get("availableColors");a++)o.items.push({sprite:"img_bird",frame:2*a});return o.scl=1,o.sclHighlight=1,o.imgWidth=36*o.scl,o.imgHeight=36*o.scl,o.selectorFontSize=54,o.selectorSpace=20,o}return a(t,e),s(t,[{key:"draw",value:function(){var e=this,t=this.items.length*(this.imgWidth+36)-36,n=1,o=this.items.length,i=this.game.world.width-72;t>i&&(n=Math.ceil(t/i),o=Math.ceil(this.items.length/n),t=o*(this.imgWidth+36)-36);for(var r=this.imgHeight+this.selectorSpace+this.selectorFontSize,a=Math.floor(this.game.world.centerX-t/2+18),s=Math.floor(this.game.world.centerY-r/2*3),u=0,c=0;c<this.items.length;c++)!function(i){if(i%o==0&&++u==n&&n>1){var c=e.items.length%o;0==c&&(c=o),t=c*(e.imgWidth+36)-36,a=e.game.world.centerX-t/2+18}var f=Math.floor(a+(e.imgWidth+36)*(i%o)),h=Math.floor(s+r*u),d=i==e.curSel&&!l.default.Device.touch;e.items[i].obj=e.game.add.sprite(f,h,"img_bird",2*i,e),e.items[i].obj.scale.setTo(d?e.sclHighlight:e.scl),e.items[i].obj.anchor.set(.5),e.items[i].obj.animations.add("anim",[e.items[i].frame,e.items[i].frame+1]),e.items[i].obj.animations.play("anim",8,!0),e.items[i].obj.inputEnabled=!0,l.default.Device.touch&&e.items[i].obj.events.onInputDown.add(function(){this._setColor(i)},e),e.items[i].x=f}(c);var f=Math.floor(this.items[this.curSel].obj.centerY+this.items[this.curSel].obj.height+this.selectorSpace);this.selector=this.game.add.bitmapText(this.items[this.curSel].x,f,"fnt_flappy","^",this.selectorFontSize,this),this.selector.anchor.setTo(.5),this.selector.visible=!l.default.Device.touch}},{key:"handle",value:function(){var e=(this.curSel,this.game.input.keyboard.createCursorKeys()),t=this.game.input.keyboard.addKey(l.default.KeyCode.SPACEBAR);e.right.justPressed()?this._setSelected(Math.min(this.items.length-1,this.curSel+1)):e.left.justPressed()?this._setSelected(Math.max(0,this.curSel-1)):t.justPressed()&&this._setColor(this.curSel)}},{key:"_setColor",value:function(e){this.game.save.set("selectedColor",e),this.state.changeMenu(f.default.Menus.MAIN)}},{key:"_setSelected",value:function(e){var t=this.curSel;if(this.curSel=e,t!=this.curSel){var n=!l.default.Device.touch;this.items[t].obj.scale.setTo(this.scl),this.items[this.curSel].obj.scale.setTo(n?this.sclHighlight:this.scl);var o=Math.floor(this.items[this.curSel].obj.centerY+this.items[this.curSel].obj.height+this.selectorSpace);this.selector.y=o,this.selector.x=this.items[this.curSel].x}}}]),t}(l.default.Group);t.default=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PlayState=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=n(1),f=o(c),h=n(6),d=o(h),g=n(7),p=o(g),m=n(34),b=o(m),y=n(35),v=o(y);t.PlayState=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"create",value:function(){var e=this.game.world.centerX,t=this.game.world.centerY,n=this.game.config;this.started=!1,this.gameover=!1,this.score=0,l.default.Device.touch&&this.input.onDown.add(this._onTap,this),this.trees=new d.default(this.game,n.get("trees.gap"),n.get("trees.speed"),n.get("trees.distance")),this.game.add.existing(this.trees),this.ground=new p.default(this.game,n.get("trees.speed")),this.game.add.existing(this.ground),this.bird=new b.default(this.game,50,t-50),this.game.add.existing(this.bird),this.scoreBoard=this.game.add.bitmapText(e,100,"fnt_flappy",this.score+"",n.get("fontSize.score")),this.scoreBoard.anchor.setTo(.5),this.scoreBoard.visible=!1,this.gameoverHeadline=this.game.add.translatedBitmapText(e,t-50,"fnt_flappy","gameover",n.get("fontSize.title")),this.gameoverHeadline.anchor.setTo(.5),this.gameoverHeadline.visible=!1,this.gameoverSubline=this.game.add.translatedBitmapText(e,t+70,"fnt_flappy",l.default.Device.touch?"tapToContinue":"spaceToContinue",n.get("fontSize.menu")),this.gameoverSubline.anchor.setTo(.5),this.gameoverSubline.visible=!1,this.highscoreMessage=this.game.add.translatedBitmapText(e,t+10,"fnt_flappy","newHighscore",n.get("fontSize.menu")),this.highscoreMessage.anchor.setTo(.5),this.highscoreMessage.visible=!1,this.countdown=new v.default(this.game,e,100),this.countdown.onCountdownEnd.add(this._afterCountdown,this),this.countdown.start(),this.game.add.existing(this.countdown)}},{key:"_afterCountdown",value:function(){this.countdown.destroy(),this.started=!0,this.trees.start(),this.ground.start(),this.bird.start(),this.scoreBoard.visible=!0}},{key:"_gameover",value:function(){this.started=!1,this.trees.stop(),this.ground.stop(),this.bird.stop(),this.gameoverTween=this.game.add.tween(this.bird),this.gameoverTween.to({y:[this.bird.y-100,this.game.world.height+this.bird.height]},1e3,l.default.Easing.Linear.None),this.gameoverTween.interpolation(l.default.Math.catmullRomInterpolation),this.gameoverTween.onComplete.add(this._gameoverComplete,this),this.gameoverTween.start()}},{key:"_gameoverComplete",value:function(){this.gameoverHeadline.visible=!0,this.gameoverSubline.visible=!0,this.score>this.game.save.get("highscore")&&(this.highscoreMessage.visible=!0,this.game.save.set("highscore",this.score)),this.gameover=!0}},{key:"_onTap",value:function(){this.started&&this.bird.flap(),this.gameover&&this.game.state.start(f.default.States.MENU)}},{key:"update",value:function(){var e=this.game.input.keyboard.addKey(l.default.KeyCode.SPACEBAR);if(this.trees.checkVisibilty(),this.started){if(e.justPressed()&&this.bird.flap(),this.bird.y+this.bird.height>this.game.world.height-this.ground.height||this.bird.y<-this.bird.height)return this._gameover();if(this.trees.isColliding(this.bird))return this._gameover();this.trees.hasPassed(this.bird)&&(this.score+=this.game.config.get("scoreGain"),this.scoreBoard.setText(this.score),this.trees.activateNextTree())}this.gameover&&e.justPressed()&&this.game.state.start(f.default.States.MENU)}}]),t}(l.default.State)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,"img_bird"));return a.game.physics.arcade.enableBody(a),a.body.moves=!1,a.body.immovable=!0,a.baseFrame=2*a.game.save.get("selectedColor"),a.animations.add("flap",[a.baseFrame,a.baseFrame+1]),a.frame=a.baseFrame,a}return r(t,e),a(t,[{key:"start",value:function(){this.animations.play("flap",8,!0),this.body.moves=!0,this.body.immovable=!1}},{key:"stop",value:function(){this.animations.stop("flap",!0),this.frame=this.baseFrame,this.body.moves=!1,this.body.immovable=!0}},{key:"flap",value:function(){this.body.velocity.y=this.game.config.get("physics.flapForce")}}]),t}(u.default.Sprite);t.default=l},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e,n,r,a,s,l){o(this,t);var c=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.onCountdownEnd=new u.default.Signal,c.x=n,c.y=r,c.beginSize=s||96,c.endSize=l||12,c.countdownPosition=a||3,c.countdown=c.game.add.translatedBitmapText(0,0,"fnt_flappy",c.countdownPosition,c.beginSize,"left",{},c),c.countdown.anchor.setTo(.5),c.tween=c.game.add.tween(c.countdown),c.tween.to({fontSize:c.endSize,alpha:0},1e3,u.default.Easing.Linear.None),c.tween.onComplete.add(c._tweenEnd,c),c}return r(t,e),a(t,[{key:"start",value:function(){this.tween.start()}},{key:"stop",value:function(){this.tween.stop()}},{key:"_tweenEnd",value:function(){this.countdownPosition--,this.countdownPosition>-1?(this.countdown.setText(this.countdownPosition>0?this.countdownPosition:"go"),this.countdown.alpha=1,this.countdown.fontSize=this.beginSize,this.tween.start()):this.onCountdownEnd.dispatch()}}]),t}(u.default.Group);t.default=l}],[8]);